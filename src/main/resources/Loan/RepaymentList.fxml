<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<AnchorPane prefWidth="1000" prefHeight="600"
            stylesheets="@/Styles/LoanStyle.css"
            xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.Controlleurs.LoanControlleur.RepaymentListController">

    <!-- MAIN CONTAINER -->
    <VBox spacing="20"
          AnchorPane.topAnchor="0"
          AnchorPane.leftAnchor="0"
          AnchorPane.rightAnchor="0"
          AnchorPane.bottomAnchor="0">

        <padding>
            <Insets top="30" left="30" right="30" bottom="30"/>
        </padding>

        <!-- HEADER -->
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="header-container">

            <Button text="⬅ Retour"
                    styleClass="btn-back"
                    onAction="#handleBack"/>

            <Label text="Liste des Remboursements"
                   styleClass="page-title">
                <font>
                    <Font size="22"/>
                </font>
            </Label>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="➕ Ajouter"
                    styleClass="btn-primary"
                    onAction="#goToAddRepayment"/>

        </HBox>

        <!-- TABLE CONTAINER -->
        <VBox spacing="15" styleClass="table-container" VBox.vgrow="ALWAYS">

            <TableView fx:id="repaymentTable"
                       styleClass="product-table"
                       VBox.vgrow="ALWAYS">

                <columns>

                    <TableColumn fx:id="colNumber"
                                 text="N°"
                                 prefWidth="70"/>

                    <TableColumn fx:id="colAmount"
                                 text="Montant"
                                 prefWidth="150"/>

                    <TableColumn fx:id="colCapital"
                                 text="Capital"
                                 prefWidth="150"/>

                    <TableColumn fx:id="colInterest"
                                 text="Intérêt"
                                 prefWidth="150"/>

                    <TableColumn fx:id="colStatus"
                                 text="Statut"
                                 prefWidth="150"/>

                    <TableColumn fx:id="colPay"
                                 text="Paiement"
                                 prefWidth="130"
                                 sortable="false"/>

                    <TableColumn fx:id="colDelete"
                                 text="Supprimer"
                                 prefWidth="130"
                                 sortable="false"/>

                </columns>

                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>

            </TableView>

        </VBox>

    </VBox>

</AnchorPane>
